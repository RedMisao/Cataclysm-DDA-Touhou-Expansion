[
	{
    "id": "mini_hakkero_replica",
    "type": "TOOL",
	"name": { "str": "mini hakkero (replica)" },
    "description": "A small wooden magical furnace.  This one's evidently a replica though, \"improved\" with modern materials.",
	"volume": "500 ml",
	"weight": "500 g",
    "longest_side": "12 cm",
	"price_postapoc": 25000,
	"to_hit": {
		"balance": "neutral", 
		"grip": "none", 
		"length": "hand", 
		"surface": "any"
	},
	"material": [ "plastic", "steel", "wood" ],
	"symbol": "☲",
    "color": "light_blue",
	"charges_per_use": 1,
    "qualities": [ [ "COOK", 1 ] ],
    "pocket_data": [ { "pocket_type": "MAGAZINE", "ammo_restriction": { "battery": 5 } } ],
    "relic_data": { "charge_info": { "regenerate_ammo": true, "recharge_type": "periodic", "time": "30 s" } },
    "use_action": [ 
		"HOTPLATE", 
		{ 
		"target": "mini_hakkero_replica_on", 
		"type": "transform", 
		"msg": "You use the mini hakkero as a light source.", 
        "menu_text": "Turn on",
		"active": true 
		},
		{ "type": "cast_spell", "spell_id": "mini_hakkero_replica_mspark", "no_fail": true, "level": 1 },
		{ "type": "cast_spell", "spell_id": "mini_hakkero_replica_mmissile", "no_fail": true, "level": 1 }
	],
	"flags": [ "BELT_CLIP", "NO_RELOAD", "NO_UNLOAD", "TRADER_AVOID" ]
	},
	{
    "id": "mini_hakkero_replica_on",
    "type": "TOOL",
	"name": { "str": "mini hakkero (replica) (ON)" },
	"copy-from": "mini_hakkero_replica",
    "description": "A small wooden magical furnace.  It's currently working as a light source.",
	"power_draw": 0,
	"revert_to": "mini_hakkero_replica",
    "use_action": [ 
		{ 
		"target": "mini_hakkero_replica", 
		"type": "transform", 
		"msg": "You turn off the mini hakkero.", 
        "menu_text": "Turn off",
		"ammo_scale": 0
		}
	],
	"flags": [ "BELT_CLIP", "LIGHT_200", "TRADER_AVOID", "USE_PLAYER_ENERGY" ]
	},
	{
    "id": "mini_hakkero_replica_mspark",
    "type": "SPELL",
    "name": "Master Spark (replica)",
    "description": "Shoot a very large, very strong laser.  At least that's how it should work.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "extra_effects": [
		{ "id": "spell_misfire" },
		{ "id": "minispark_replica" },
		{ "id": "minispark_replica" },
		{ "id": "mspark_cold" },
		{ "id": "mspark_cold" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" },
		{ "id": "mspark_electric" }
    ],
	"//": "5% chance to misfire, 10% chance to shoot a mini master spark, 10% chance to shoot a cold master spark",
	"shape": "line",
	"damage_type": "electric",
	"min_damage": 1,
    "max_damage": 1,
	"min_range": 35,
    "max_range": 45,
    "range_increment": 1,
	"min_aoe": 8,
    "max_aoe": 8,"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 200,
	"base_energy_cost": 200,
	"energy_source": "MANA",
	"flags": [ "LOUD", "NO_LEGS", "WONDER" ]
	},
	{
    "id": "spell_misfire",
    "type": "SPELL",
    "name": "Spell misfire",
    "description": "Spell failure",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "shape": "line",
	"message": "The mini hakkero fizzles",
	"damage_type": "electric",
	"min_damage": 0,
    "max_damage": 0,
    "damage_increment": 0,
    "min_range": 35,
    "max_range": 45,
    "range_increment": 1,
	"min_aoe": 8,
    "max_aoe": 8,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "minispark_replica",
    "type": "SPELL",
    "name": "Mini spark replica",
    "description": "Shoot a very small, somewhat weak laser.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "shape": "line",
	"message": "The mini hakkero fizzles, and shoots a… strong light",
	"damage_type": "bash",
	"min_damage": 27,
    "max_damage": 60,
    "damage_increment": 3.3,
    "min_range": 35,
    "max_range": 45,
    "range_increment": 1,
	"min_aoe": 2,
    "max_aoe": 2,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mspark_cold",
    "type": "SPELL",
    "name": "Master Spark (replica)",
    "description": "Shoot a very large, very strong laser.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "shape": "line",
	"message": "The mini hakkero shoots a cold spark!",
	"damage_type": "cold",
	"min_damage": 110,
    "max_damage": 240,
    "damage_increment": 13,
    "min_range": 35,
    "max_range": 45,
    "range_increment": 1,
	"min_aoe": 8,
    "max_aoe": 8,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mspark_electric",
    "type": "SPELL",
    "name": "Master Spark (replica)",
    "description": "Shoot a very large, very strong laser.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "shape": "line",
	"message": "The mini hakkero shoots a master spark replica!",
	"damage_type": "electric",
	"min_damage": 110,
    "max_damage": 240,
    "damage_increment": 13,
    "min_range": 35,
    "max_range": 45,
    "range_increment": 1,
	"min_aoe": 8,
    "max_aoe": 8,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mini_hakkero_replica_mmissile",
    "type": "SPELL",
    "name": "Magic missile (replica)",
    "description": "Shoot several magic proyectiles that look like missiles.  At least that's how it should work.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "extra_effects": [
		{ "id": "spell_misfire2" },
		{ "id": "spell_misfire2" },
		{ "id": "mmissile_flame" },
		{ "id": "mmissile_flame" },
		{ "id": "mmissile_flame" },
		{ "id": "mmissile_cold" },
		{ "id": "mmissile_cold" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" },
		{ "id": "mmissile_electric" }
    ],
	"//": "10% chance to misfire, 15% chance to shoot flaming missiles, 10% chance to shoot cold missiles",
	"shape": "line",
	"damage_type": "electric",
	"min_damage": 1,
    "max_damage": 1,
	"min_range": 10,
    "max_range": 24,
    "range_increment": 1.4,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 50,
	"base_energy_cost": 50,
	"energy_source": "MANA",
	"flags": [ "LOUD", "NO_LEGS", "WONDER" ]
	},
	{
    "id": "spell_misfire2",
    "type": "SPELL",
    "name": "Spell misfire",
    "description": "Spell failure",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
	"shape": "line",
	"message": "The mini hakkero shoots… little trees?",
	"damage_type": "electric",
	"min_damage": 0,
    "max_damage": 0,
    "damage_increment": 0,
    "min_range": 10,
    "max_range": 24,
    "range_increment": 1.4,
	"min_aoe": 1,
    "max_aoe": 1,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mmissile_flame",
    "type": "SPELL",
    "name": "Magic missile (flame)",
    "description": "Shoot several magic proyectiles that look like missiles.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
    "extra_effects": [ { "id": "mmissile_flame2" } ],
	"shape": "blast",
	"message": "The mini hakkero shoots missiles made out of flame magic!",
	"damage_type": "heat",
	"min_damage": 28,
    "max_damage": 100,
    "damage_increment": 7.2,
    "min_range": 10,
    "max_range": 24,
    "range_increment": 1.4,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA",
	"flags": [ "IGNITE_FLAMMABLE" ],
	"//": "Add a non-damaging AoE effect"
	},
	{
    "id": "mmissile_flame2",
    "type": "SPELL",
    "name": "Magic missile (flame) (aoe)",
    "description": "AoE component of mmissile_flame ",
    "spell_class": "NONE",
	"effect": "attack",
    "valid_targets": [ "ground", "hostile" ],
	"shape": "blast",
	"damage_type": "heat",
	"min_damage": 1,
    "max_damage": 1,
    "damage_increment": 0,
	"min_aoe": 1,
    "max_aoe": 1,
	"max_level": 10,
	"difficulty": -10,
	"base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA",
	"flags": [ "IGNITE_FLAMMABLE" ]
	},
	{
    "id": "mmissile_cold",
    "type": "SPELL",
    "name": "Magic missile (cold)",
    "description": "Shoot several magic proyectiles that look like missiles.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
	"extra_effects": [ { "id": "mmissile_cold2" } ],
	"shape": "blast",
	"message": "The mini hakkero shoots missiles made out of cold magic!",
	"damage_type": "cold",
	"min_damage": 28,
    "max_damage": 100,
    "damage_increment": 7.2,
    "min_range": 10,
    "max_range": 24,
    "range_increment": 1.4,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mmissile_cold2",
    "type": "SPELL",
    "name": "Magic missile (cold) (aoe)",
    "description": "AoE component of mmissile_cold ",
    "spell_class": "NONE",
	"effect": "attack",
    "valid_targets": [ "ground", "hostile" ],
	"shape": "blast",
	"damage_type": "cold",
	"min_damage": 0,
    "max_damage": 0,
    "damage_increment": 0,
	"min_aoe": 1,
    "max_aoe": 1,
	"max_level": 10,
	"difficulty": -10,
	"base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	},
	{
    "id": "mmissile_electric",
    "type": "SPELL",
    "name": "Magic missile (replica)",
    "description": "Shoot several magic proyectiles that look like missiles.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
	"effect": "attack",
	"extra_effects": [ { "id": "mmissile_electric2" } ],
	"message": "The mini hakkero shoots missiles made out of of electrical magic!",
	"shape": "blast",
	"damage_type": "electric",
	"min_damage": 28,
    "max_damage": 100,
    "damage_increment": 7.2,
    "min_range": 10,
    "max_range": 24,
    "range_increment": 1.4,
	"max_level": 10,
	"difficulty": -10,
    "base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA",
	"flags": [ "LOUD", "NO_LEGS" ],
	"//": "Add a non-damaging AoE effect"
	},
	{
    "id": "mmissile_electric2",
    "type": "SPELL",
    "name": "Magic missile (replica) (aoe)",
    "description": "AoE component of mmissile_electric ",
    "spell_class": "NONE",
	"effect": "attack",
    "valid_targets": [ "ground", "hostile" ],
	"shape": "blast",
	"damage_type": "electric",
	"min_damage": 0,
    "max_damage": 0,
    "damage_increment": 0,
	"min_aoe": 1,
    "max_aoe": 1,
	"max_level": 10,
	"difficulty": -10,
	"base_casting_time": 0,
	"base_energy_cost": 0,
	"energy_source": "MANA"
	}
]