[
  {
    "abstract": "mon_shadow_th",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "description": "A shadow.",
    "volume": "62500 ml",
    "weight": "1000 g",
    "default_faction": "touhou_shadow_faction",
    "bodytype": "human",
    "species": [ "YOUKAI_HOSTILE_TOUHOU" ],
    "harvest": "exempt",
    "hp": 100,
    "speed": 150,
    "material": [ "flesh" ],
    "symbol": "@",
    "looks_like": "mon_shadow",
    "color": "black",
    "aggression": 99,
    "morale": 99,
    "melee_skill": 6,
    "melee_dice": 3,
    "melee_dice_sides": 5,
    "melee_damage": [ { "damage_type": "soul", "amount": 6 } ],
    "dodge": 6,
    "families": [ "prof_wp_shadow" ],
    "anger_triggers": [ "HURT", "PLAYER_CLOSE", "PLAYER_WEAK", "SOUND" ],
    "vision_day": 16,
    "vision_night": 32,
    "path_settings": { "max_dist": 32 },
    "death_function": { "corpse_type": "NO_CORPSE", "message": "" },
    "flags": [ 
      "CAN_OPEN_DOORS", 
      "CLIMBS", 
      "GRABS", 
      "HARDTOSHOOT", 
      "HEARS", 
      "NOGIB", 
      "NOHEAD", 
      "NO_BREATHE", 
      "PRIORITIZE_TARGETS", 
      "SEES", 
      "SILENT_DISAPPEAR", 
      "STUN_IMMUNE", 
      "SWIMS", 
      "WEBWALK" 
    ],
    "//": "Template only",
    "//WIP": "Add spawn data, remove the name after finishing testing"
  },
  {
    "id": "mon_shadow_th_person_1",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A shadow, vaguely shaped like a person.",
    "special_attacks": [
      [ "PARROT", { "math": [ "27 + rand(11)" ] } ],
      { 
        "id": "mon_shadow_th_person_1_1", 
        "type": "spell", 
        "spell_data": { "id": "reposition_24", "hit_self": true }, 
        "cooldown": { "math": [ "47 + rand(29)" ] }, 
        "monster_message": "" 
      },
      { 
        "id": "mon_shadow_th_person_1_2", 
        "type": "spell", 
        "spell_data": { "id": "shadow_demoralize" }, 
        "cooldown": { "math": [ "17 + rand(30)" ] }, 
        "monster_message": "The temperature suddenly drops around you." 
      },
      { 
        "id": "mon_shadow_th_person_1_3", 
        "type": "spell", 
        "spell_data": { "id": "sprint_spell_3", "hit_self": true },  
        "cooldown": { "math": [ "5 + rand(17)" ] }, 
        "monster_message": "" 
      }
    ],
    "extend": { "flags": [ "QUIETMOVES" ] }
  },
  {
    "id": "mon_shadow_th_person_2",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A shadow, vaguely shaped like a person.",
    "special_attacks": [
      [ "PARROT", { "math": [ "27 + rand(11)" ] } ],
      { 
        "id": "mon_shadow_th_person_2_1", 
        "type": "spell", 
        "spell_data": { "id": "reposition_24", "hit_self": true }, 
        "cooldown": { "math": [ "47 + rand(29)" ] }, 
        "monster_message": "" 
      },
      { 
        "id": "mon_shadow_th_person_2_2", 
        "type": "spell", 
        "spell_data": { "id": "shadow_demoralize" }, 
        "cooldown": { "math": [ "17 + rand(30)" ] }, 
        "monster_message": "The temperature suddenly drops around you." 
      },
      { 
        "id": "mon_shadow_th_person_2_3", 
        "type": "spell", 
        "spell_data": { "id": "sprint_spell_3", "hit_self": true },  
        "cooldown": { "math": [ "5 + rand(17)" ] }, 
        "monster_message": "" 
      }
    ],
    "extend": { "flags": [ "LOUDMOVES" ] }
  },
  {
    "id": "mon_shadow_th_person_3",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A shadow, vaguely shaped like a person.",
    "special_attacks": [
      [ "PARROT", { "math": [ "27 + rand(11)" ] } ],
      { 
        "id": "mon_shadow_th_person_3_1", 
        "type": "spell", 
        "spell_data": { "id": "reposition_24", "hit_self": true }, 
        "cooldown": { "math": [ "47 + rand(29)" ] }, 
        "monster_message": "" 
      },
      { 
        "id": "mon_shadow_th_person_3_2", 
        "type": "spell", 
        "spell_data": { "id": "shadow_demoralize" }, 
        "cooldown": { "math": [ "17 + rand(30)" ] }, 
        "monster_message": "The temperature suddenly drops around you." 
      },
      { 
        "id": "mon_shadow_th_person_3_3", 
        "type": "spell", 
        "spell_data": { "id": "sprint_spell_3", "hit_self": true },  
        "cooldown": { "math": [ "5 + rand(17)" ] }, 
        "monster_message": "" 
      }
    ],
    "extend": { "flags": [ "CAMOUFLAGE" ] }
  },
  {
    "id": "mon_shadow_th_child_1",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th_person_1",
    "description": "A shadow, the size of a child?"
  },
  {
    "id": "mon_shadow_th_child_2",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th_person_1",
    "description": "A shadow, the size of a child?"
  },
  {
    "id": "mon_shadow_th_child_3",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th_person_1",
    "description": "A shadow, the size of a child?"
  },
  {
    "id": "mon_shadow_th_fume",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A fume?  You're sure you notice it there before.",
    "default_faction": "touhou_youkai_neutral",
    "bodytype": "blob",
    "species": [ "YOUKAI_NEUTRAL_TOUHOU" ],
    "hp": 1,
    "symbol": "?",
    "color": "black",
    "aggression": 99,
    "morale": 99,
    "dodge": 10,
    "families": [ "prof_wp_shadow" ],
    "anger_triggers": [ "HURT", "PLAYER_CLOSE", "PLAYER_WEAK", "SOUND" ],
    "vision_day": 12,
    "vision_night": 12,
    "path_settings": { "max_dist": 12 },
    "death_function": { "corpse_type": "NO_CORPSE", "message": "" },
    "special_attacks": [
      { 
        "id": "mon_shadow_th_fume_1", 
        "type": "spell", 
        "spell_data": { "id": "monster_vanish", "hit_self": true }, 
        "condition": { "u_has_effect": "monster_vanish_delay_effect" }, 
        "cooldown": 1, 
        "monster_message": "", 
        "//": "This has to be before the spell that grants the effect, so the monster doesn't cast it immediately after"
      },
      { 
        "id": "mon_shadow_th_fume_2", 
        "type": "spell", 
        "spell_data": { "id": "monster_vanish_delay", "hit_self": true }, 
        "condition": "player_see_u",
        "cooldown": 1, 
        "monster_message": "" 
      }
    ],
    "delete": { "looks_like": "mon_shadow" },
    "extend": { "flags": [ "CAMOUFLAGE", "IMMOBILE", "NIGHT_INVISIBILITY", "PACIFIST" ] }
  },
  {
    "id": "mon_shadow_th_hatman",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A shadow, shaped like a p̵e̷r̷s̸o̴n̵ wearing a trenchcoat or suit?  It looks as if it's w̵e̴a̴r̶i̸n̵g̴ a ̸h̸a̷t̸ . ",
    "hp": 200,
    "melee_skill": 8,
    "melee_dice": 6,
    "melee_dice_sides": 3,
    "melee_damage": [ { "damage_type": "soul", "amount": 7 } ],
    "special_attacks": [
      { 
        "id": "mon_shadow_th_hatman_1", 
        "type": "spell", 
        "spell_data": { "id": "reposition_24", "hit_self": true }, 
        "cooldown": { "math": [ "23 + rand(23)" ] }, 
        "monster_message": "" 
      }
    ],
    "extend": { "flags": [ "QUIETMOVES" ] },
    "//": "Cognitohazard"
  },
  {
    "id": "mon_shadow_th_sphere",
    "type": "MONSTER",
    "name": { "str": "AAA" },
    "copy-from": "mon_shadow_th",
    "description": "A dark sphere.  Looks fuzzy? with undefined boundaries.  You would say it's moving unusually fast, if you had a frame of reference for its movement speed.",
    "default_faction": "touhou_youkai_neutral",
    "bodytype": "blob",
    "species": [ "YOUKAI_NEUTRAL_TOUHOU" ],
    "hp": 1,
    "speed": 200,
    "symbol": "o",
    "color": "black",
    "aggression": 99,
    "morale": 99,
    "melee_skill": 6,
    "melee_dice": 4,
    "melee_dice_sides": 4,
    "melee_damage": [ { "damage_type": "soul", "amount": 8 } ],
    "dodge": 8,
    "families": [ "prof_wp_shadow" ],
    "anger_triggers": [ "HURT", "PLAYER_CLOSE", "PLAYER_WEAK", "SOUND" ],
    "vision_day": 16,
    "vision_night": 32,
    "path_settings": { "max_dist": 32 },
    "death_function": { "corpse_type": "NO_CORPSE", "message": "" },
    "special_attacks": [
      { 
        "id": "mon_shadow_th_sphere_1", 
        "type": "spell", 
        "spell_data": { "id": "monster_vanish", "hit_self": true }, 
        "condition": { "math": [ "distance('u', 'npc')", "<", "2" ] },
        "cooldown": 1, 
        "monster_message": "" 
      }
    ],
    "delete": { "looks_like": "mon_shadow" },
    "extend": { "flags": [ "PACIFIST", "SWARMS" ] }
  }
]
